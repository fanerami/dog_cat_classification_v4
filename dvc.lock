schema: '2.0'
stages:
  prepare_base_model:
    cmd: python src/dogCatClassification/pipeline/step_2_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: c548edee4f2174effbf4553df9c7fb3b
      size: 695
    - path: src/dogCatClassification/pipeline/step_2_prepare_base_model.py
      hash: md5
      md5: af81641ff001c2d9bb857b27cb84aa7e
      size: 921
    params:
      params.yaml:
        CLASSES: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.05
        METRICS:
        - accuracy
        OUTPTUT_ACTIVATION_FUNCTION: softmax
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 520c4937f42a099b53b5ea867d503ccd.dir
      size: 118054560
      nfiles: 2
  training:
    cmd: python src/dogCatClassification/pipeline/step_3_training.py
    deps:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 520c4937f42a099b53b5ea867d503ccd.dir
      size: 118054560
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: c548edee4f2174effbf4553df9c7fb3b
      size: 695
    - path: data/
      hash: md5
      md5: 95b435e2c2ccb0ffde55a24aa419cfc7.dir
      size: 4232334
      nfiles: 185
    - path: src/dogCatClassification/pipeline/step_3_training.py
      hash: md5
      md5: 077f6ab06211194cdfb0a20c83d5586a
      size: 910
    params:
      params.yaml:
        AUGMENTATION: false
        BATCH_SIZE: 16
        EPOCHS: 1
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/training/model.h5
      hash: md5
      md5: 07b51da2ff446c332ccb9a61fcf03380
      size: 59337520
  evaluation:
    cmd: python src/dogCatClassification/pipeline/step_4_evaluation.py
    deps:
    - path: artifacts/training/model.h5
      hash: md5
      md5: 07b51da2ff446c332ccb9a61fcf03380
      size: 59337520
    - path: config/config.yaml
      hash: md5
      md5: c548edee4f2174effbf4553df9c7fb3b
      size: 695
    - path: data/
      hash: md5
      md5: 95b435e2c2ccb0ffde55a24aa419cfc7.dir
      size: 4232334
      nfiles: 185
    - path: src/dogCatClassification/pipeline/step_4_evaluation.py
      hash: md5
      md5: f54b280b8e2a45f84369e1ce100e6741
      size: 882
    params:
      params.yaml:
        BATCH_SIZE: 16
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: metrics.json
      hash: md5
      md5: 8e390dcb7f21472e49d03c922c523e0d
      size: 55
  data_ingestion:
    cmd: dvc push
    deps:
    - path: data/
      hash: md5
      md5: bd72410b3f673cd574c5d9f06957d86a.dir
      size: 28404182
      nfiles: 1252
